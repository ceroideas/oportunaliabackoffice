
<div class="modal-header">
	<h5 class="modal-title text-black">Historial de Ofertas</h5>
	<button type="button" class="close" data-dismiss="modal" aria-label="Close"
		(click)="close.emit()">
		<span aria-hidden="true">&times;</span>
	</button>
</div>

<div class="modal-body">
	<div class="d-flex flex-row">
		<img *ngIf="images.length == 0" class="auction-no-image mr-4"
			src="/assets/images/image-gray.png">
		<img *ngIf="images.length" class="auction-image mr-4"
			[src]="images[imageIndex]?.path"
			[title]="images[imageIndex]?.name">
		<div class="auction-info">
			<h5 class="text-black mb-1">{{ directSelling.title }}</h5>
			<div class="d-flex flex-row">
				<div class="mr-5">
					<small>{{ lastBidLabel }}</small>
					<h6 class="text-dark">{{ directSelling.max_bid ? directSelling.max_bid : 0 }} €</h6>
				</div>
				<div class="mr-5">
					<small>{{ timeLeftLabel }}</small>
					<h6 class="text-dark">{{ time_left ? time_left : '- -' }}</h6>
				</div>
				<div class="mr-5">
					<small>Nº de ofertas</small>
					<h6 class="text-dark">{{ directSelling.bids }}</h6>
				</div>
			</div>
		</div>
	</div>

	<div class="block-content">
		<div class="table-responsive">
			<table id="venta-directa-ofertas" class="table" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
				<thead></thead>
				<tbody></tbody>
			</table>
		</div>
	</div>
</div>

<!-- Offer validation modal -->

<ng-template #confirmValidateModal>
	<div class="modal-header">
		<h5 class="modal-title text-black">Validar Oferta</h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close"
			(click)="modalRef.hide()">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>

	<div class="modal-body text-darkgray">
		<p>¿Qué desea hacer con esta oferta?</p>
	</div>

	<div class="modal-footer">
		<button type="button" class="btn btn-rounded btn-border-gray" data-dismiss="modal"
			(click)="modalRef.hide()">Cancelar</button>
		<button type="button" class="btn btn-rounded btn-red"
			(click)="validateOffer(2)">Rechazar</button>
		<button type="button" class="btn btn-rounded btn-green"
			(click)="validateOffer(1)">Aceptar</button>
	</div>
</ng-template>
